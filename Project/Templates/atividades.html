{% extends "base.html" %}
{% block title %}Atividades{% endblock %}
{% block content %}
<a href="{{ url_for('dashboard') }}" class="inline-block mb-4 bg-gray-500 text-white font-semibold py-2 px-4 rounded hover:bg-gray-600 transition">
    <i class="fas fa-arrow-left mr-2"></i>Voltar ao Dashboard
</a>

<h2 class="text-2xl font-bold text-gray-800 mb-4">Gerenciar Atividades</h2>

<form method="POST" class="bg-white p-6 rounded-lg shadow-md mb-6 grid gap-4 md:grid-cols-4">
    <select name="id_aula" required class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
        <option value="">Selecione a Aula</option>
        {% for aula in aulas %}
        <option value="{{ aula.id }}">{{ aula.titulo }} - {{ aula.nome_turma }}</option>
        {% endfor %}
    </select>
    <input type="text" name="titulo" placeholder="Título da atividade" required class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
    <input type="text" name="descricao" placeholder="Descrição" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
    <input type="date" name="data_entrega" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
    <button type="submit" class="md:col-span-4 bg-purple-500 text-white font-semibold py-3 rounded-md hover:bg-purple-600 transition">Cadastrar</button>
</form>

<div class="overflow-x-auto">
<table class="min-w-full bg-white rounded-lg shadow-md overflow-hidden">
    <thead class="bg-purple-500 text-white">
        <tr>
            <th class="py-3 px-4 text-left">Aula</th>
            <th class="py-3 px-4 text-left">Título</th>
            <th class="py-3 px-4 text-left">Descrição</th>
            <th class="py-3 px-4 text-left">Data de Entrega</th>
        </tr>
    </thead>
    <tbody>
    {% for atividade in atividades %}
        <tr class="border-b hover:bg-gray-100">
            <td class="py-2 px-4">{{ atividade.titulo_aula }}</td>
            <td class="py-2 px-4">{{ atividade.titulo }}</td>
            <td class="py-2 px-4">{{ atividade.descricao }}</td>
            <td class="py-2 px-4">{{ atividade.data_entrega }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}